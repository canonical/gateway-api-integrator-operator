[32mINFO    [0m jubilant:_juju.py:394 cli: juju add-model --no-switch jubilant-fec468f4
[32mINFO    [0m jubilant:_juju.py:394 cli: juju deploy --model jubilant-fec468f4 /home/ubuntu/snap/juju/common/tmpbw8tq358/_temp.charm gateway-route-configurator --base ubuntu@24.04 --config hostname=www.gateway.internal --config paths=/app1,/app2 --trust
[32mINFO    [0m jubilant:_juju.py:394 cli: juju deploy --model jubilant-fec468f4 /home/ubuntu/snap/juju/common/tmpymxoepfh/_temp.charm gateway-api-integrator --base ubuntu@24.04 --config gateway-class=cilium --trust
[32mINFO    [0m jubilant:_juju.py:394 cli: juju deploy --model jubilant-fec468f4 self-signed-certificates
[32mINFO    [0m jubilant:_juju.py:394 cli: juju integrate --model jubilant-fec468f4 gateway-api-integrator self-signed-certificates
[32mINFO    [0m jubilant:_juju.py:394 cli: juju deploy --model jubilant-fec468f4 flask-k8s --channel latest/edge
[32mINFO    [0m jubilant:_juju.py:394 cli: juju integrate --model jubilant-fec468f4 gateway-route-configurator:ingress flask-k8s:ingress
[32mINFO    [0m jubilant:_juju.py:394 cli: juju integrate --model jubilant-fec468f4 gateway-api-integrator:gateway-route gateway-route-configurator:gateway-route
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
+ .model.name = 'jubilant-fec468f4'
+ .model.type = 'caas'
+ .model.controller = 'github-pr-bc307-k8s'
+ .model.cloud = 'k8s'
+ .model.version = '3.6.14'
+ .model.model_status.current = 'available'
+ .apps['flask-k8s'].charm = 'flask-k8s'
+ .apps['flask-k8s'].charm_origin = 'charmhub'
+ .apps['flask-k8s'].charm_name = 'flask-k8s'
+ .apps['flask-k8s'].charm_rev = 19
+ .apps['flask-k8s'].exposed = False
+ .apps['flask-k8s'].base.name = 'ubuntu'
+ .apps['flask-k8s'].base.channel = '22.04'
+ .apps['flask-k8s'].charm_channel = 'latest/edge'
+ .apps['flask-k8s'].scale = 1
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].relations['ingress'][0].related_app = 'gateway-route-configurator'
+ .apps['flask-k8s'].relations['ingress'][0].interface = 'ingress'
+ .apps['flask-k8s'].relations['ingress'][0].scope = 'global'
+ .apps['flask-k8s'].relations['secret-storage'][0].related_app = 'flask-k8s'
+ .apps['flask-k8s'].relations['secret-storage'][0].interface = 'secret-storage'
+ .apps['flask-k8s'].relations['secret-storage'][0].scope = 'global'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing agent'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'allocating'
+ .apps['flask-k8s'].endpoint_bindings[''] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['grafana-dashboard'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['logging'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['metrics-endpoint'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['mysql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['postgresql'] = 'alpha'
+ .apps['flask-k8s'].endpoint_bindings['secret-storage'] = 'alpha'
+ .apps['gateway-api-integrator'].charm = 'local:gateway-api-integrator-0'
+ .apps['gateway-api-integrator'].charm_origin = 'local'
+ .apps['gateway-api-integrator'].charm_name = 'gateway-api-integrator'
+ .apps['gateway-api-integrator'].charm_rev = 0
+ .apps['gateway-api-integrator'].exposed = False
+ .apps['gateway-api-integrator'].base.name = 'ubuntu'
+ .apps['gateway-api-integrator'].base.channel = '24.04'
+ .apps['gateway-api-integrator'].scale = 1
+ .apps['gateway-api-integrator'].app_status.current = 'waiting'
+ .apps['gateway-api-integrator'].app_status.message = 'installing agent'
+ .apps['gateway-api-integrator'].relations['certificates'][0].related_app = 'self-signed-certificates'
+ .apps['gateway-api-integrator'].relations['certificates'][0].interface = 'tls-certificates'
+ .apps['gateway-api-integrator'].relations['certificates'][0].scope = 'global'
+ .apps['gateway-api-integrator'].relations['gateway-route'][0].related_app = 'gateway-route-configurator'
+ .apps['gateway-api-integrator'].relations['gateway-route'][0].interface = 'gateway-route'
+ .apps['gateway-api-integrator'].relations['gateway-route'][0].scope = 'global'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.current = 'waiting'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'installing agent'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'allocating'
+ .apps['gateway-api-integrator'].endpoint_bindings[''] = 'alpha'
+ .apps['gateway-api-integrator'].endpoint_bindings['certificates'] = 'alpha'
+ .apps['gateway-api-integrator'].endpoint_bindings['dns-record'] = 'alpha'
+ .apps['gateway-api-integrator'].endpoint_bindings['gateway'] = 'alpha'
+ .apps['gateway-api-integrator'].endpoint_bindings['gateway-route'] = 'alpha'
+ .apps['gateway-route-configurator'].charm = 'local:gateway-route-configurator-0'
+ .apps['gateway-route-configurator'].charm_origin = 'local'
+ .apps['gateway-route-configurator'].charm_name = 'gateway-route-configurator'
+ .apps['gateway-route-configurator'].charm_rev = 0
+ .apps['gateway-route-configurator'].exposed = False
+ .apps['gateway-route-configurator'].base.name = 'ubuntu'
+ .apps['gateway-route-configurator'].base.channel = '24.04'
+ .apps['gateway-route-configurator'].scale = 1
+ .apps['gateway-route-configurator'].app_status.current = 'waiting'
+ .apps['gateway-route-configurator'].app_status.message = 'installing agent'
+ .apps['gateway-route-configurator'].relations['gateway-route'][0].related_app = 'gateway-api-integrator'
+ .apps['gateway-route-configurator'].relations['gateway-route'][0].interface = 'gateway-route'
+ .apps['gateway-route-configurator'].relations['gateway-route'][0].scope = 'global'
+ .apps['gateway-route-configurator'].relations['ingress'][0].related_app = 'flask-k8s'
+ .apps['gateway-route-configurator'].relations['ingress'][0].interface = 'ingress'
+ .apps['gateway-route-configurator'].relations['ingress'][0].scope = 'global'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'waiting'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'installing agent'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'allocating'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].provider_id = 'gateway-route-configurator-0'
+ .apps['gateway-route-configurator'].endpoint_bindings[''] = 'alpha'
+ .apps['gateway-route-configurator'].endpoint_bindings['gateway-route'] = 'alpha'
+ .apps['gateway-route-configurator'].endpoint_bindings['ingress'] = 'alpha'
+ .apps['self-signed-certificates'].charm = 'self-signed-certificates'
+ .apps['self-signed-certificates'].charm_origin = 'charmhub'
+ .apps['self-signed-certificates'].charm_name = 'self-signed-certificates'
+ .apps['self-signed-certificates'].charm_rev = 317
+ .apps['self-signed-certificates'].exposed = False
+ .apps['self-signed-certificates'].base.name = 'ubuntu'
+ .apps['self-signed-certificates'].base.channel = '24.04'
+ .apps['self-signed-certificates'].charm_channel = '1/stable'
+ .apps['self-signed-certificates'].scale = 1
+ .apps['self-signed-certificates'].app_status.current = 'waiting'
+ .apps['self-signed-certificates'].app_status.message = 'installing agent'
+ .apps['self-signed-certificates'].relations['certificates'][0].related_app = 'gateway-api-integrator'
+ .apps['self-signed-certificates'].relations['certificates'][0].interface = 'tls-certificates'
+ .apps['self-signed-certificates'].relations['certificates'][0].scope = 'global'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'waiting'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'installing agent'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'allocating'
+ .apps['self-signed-certificates'].endpoint_bindings[''] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['certificates'] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['send-ca-cert'] = 'alpha'
+ .apps['self-signed-certificates'].endpoint_bindings['tracing'] = 'alpha'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
+ .apps['gateway-route-configurator'].provider_id = '458cc409-241c-4160-89a4-370d0e6b987c'
+ .apps['gateway-route-configurator'].address = '10.152.183.217'
- .apps['gateway-route-configurator'].app_status.message = 'installing agent'
+ .apps['gateway-route-configurator'].app_status.message = 'agent initialising'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'installing agent'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'agent initialising'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.version = '3.6.14'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].leader = True
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-route-configurator'].app_status.current = 'waiting'
- .apps['gateway-route-configurator'].app_status.message = 'agent initialising'
+ .apps['gateway-route-configurator'].app_status.current = 'maintenance'
+ .apps['gateway-route-configurator'].app_status.message = 'installing charm software'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'waiting'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'agent initialising'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'allocating'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'maintenance'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'installing charm software'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running install hook'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].address = '10.1.0.201'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running install hook'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running ingress-relation-created hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-route-configurator'].app_status.current = 'maintenance'
- .apps['gateway-route-configurator'].app_status.message = 'installing charm software'
+ .apps['gateway-route-configurator'].app_status.current = 'blocked'
+ .apps['gateway-route-configurator'].app_status.message = 'Invalid ingress data'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'maintenance'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'installing charm software'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'blocked'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'Invalid ingress data'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running ingress-relation-created hook'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running start hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running start hook'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
+ .apps['gateway-api-integrator'].provider_id = '80c3b1b9-bd3f-4f7b-ac44-d471a4a5ebb4'
+ .apps['gateway-api-integrator'].address = '10.152.183.175'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].provider_id = 'gateway-api-integrator-0'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].app_status.current = 'waiting'
- .apps['gateway-api-integrator'].app_status.message = 'installing agent'
+ .apps['gateway-api-integrator'].app_status.current = 'maintenance'
+ .apps['gateway-api-integrator'].app_status.message = 'installing charm software'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'installing agent'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'agent initialising'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.version = '3.6.14'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].leader = True
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.current = 'waiting'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'agent initialising'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'allocating'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.current = 'maintenance'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'installing charm software'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-created hook'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'idle'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running gateway-route-relation-joined hook for gateway-api-integrator/0'
- .apps['self-signed-certificates'].app_status.message = 'installing agent'
+ .apps['self-signed-certificates'].app_status.message = 'agent initialising'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'installing agent'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'agent initialising'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.version = '3.6.14'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].leader = True
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].provider_id = 'self-signed-certificates-0'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].app_status.current = 'maintenance'
- .apps['gateway-api-integrator'].app_status.message = 'installing charm software'
+ .apps['gateway-api-integrator'].app_status.current = 'blocked'
+ .apps['gateway-api-integrator'].app_status.message = 'invalid configuration: external_hostname'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.current = 'maintenance'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'installing charm software'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.current = 'blocked'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'invalid configuration: external_hostname'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-created hook'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running certificates-relation-created hook'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running gateway-route-relation-joined hook for gateway-api-integrator/0'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running certificates-relation-created hook'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running leader-elected hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running leader-elected hook'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running config-changed hook'
- .apps['self-signed-certificates'].app_status.current = 'waiting'
- .apps['self-signed-certificates'].app_status.message = 'agent initialising'
+ .apps['self-signed-certificates'].app_status.current = 'maintenance'
+ .apps['self-signed-certificates'].app_status.message = 'installing charm software'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'waiting'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'agent initialising'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'allocating'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'maintenance'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'installing charm software'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'executing'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running install hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
+ .apps['flask-k8s'].provider_id = '388f8606-fd8e-42eb-8753-234bec7362c1'
+ .apps['flask-k8s'].address = '10.152.183.65'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running config-changed hook'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'idle'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].address = '10.1.0.107'
- .apps['self-signed-certificates'].app_status.current = 'maintenance'
- .apps['self-signed-certificates'].app_status.message = 'installing charm software'
+ .apps['self-signed-certificates'].provider_id = 'f029bce8-3122-449e-8809-bb6ed044b568'
+ .apps['self-signed-certificates'].address = '10.152.183.32'
+ .apps['self-signed-certificates'].app_status.current = 'active'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'maintenance'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.message = 'installing charm software'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].workload_status.current = 'active'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running install hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running certificates-relation-created hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].address = '10.1.0.112'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'idle'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-joined hook for gateway-route-configurator/0'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running certificates-relation-created hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running config-changed hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
+ .apps['flask-k8s'].units['flask-k8s/0'].provider_id = 'flask-k8s-0'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-joined hook for gateway-route-configurator/0'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-changed hook for gateway-route-configurator/0'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running config-changed hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running start hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-changed hook for gateway-route-configurator/0'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running certificates-relation-changed hook for self-signed-certificates/0'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running start hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running certificates-relation-changed hook for gateway-api-integrator/0'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
+ .apps['flask-k8s'].units['flask-k8s/0'].address = '10.1.0.244'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running certificates-relation-changed hook for self-signed-certificates/0'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'idle'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'executing'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running certificates-relation-changed hook for gateway-api-integrator/0'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.message = 'agent initialising'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing agent'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'agent initialising'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.version = '3.6.14'
+ .apps['flask-k8s'].units['flask-k8s/0'].leader = True
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'agent initialising'
+ .apps['flask-k8s'].app_status.current = 'maintenance'
+ .apps['flask-k8s'].app_status.message = 'installing charm software'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'waiting'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'agent initialising'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'allocating'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running install hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running install hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running ingress-relation-created hook'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'idle'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running ingress-relation-changed hook for flask-k8s/0'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].app_status.current = 'maintenance'
- .apps['flask-k8s'].app_status.message = 'installing charm software'
+ .apps['flask-k8s'].app_status.current = 'waiting'
+ .apps['flask-k8s'].app_status.message = 'installing agent'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'maintenance'
- .apps['flask-k8s'].units['flask-k8s/0'].workload_status.message = 'installing charm software'
+ .apps['flask-k8s'].units['flask-k8s/0'].workload_status.current = 'active'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running ingress-relation-created hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running start hook'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'idle'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-changed hook'
- .apps['gateway-route-configurator'].app_status.current = 'blocked'
- .apps['gateway-route-configurator'].app_status.message = 'Invalid ingress data'
+ .apps['gateway-route-configurator'].app_status.current = 'maintenance'
+ .apps['gateway-route-configurator'].app_status.message = 'Waiting for gateway route endpoints'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'blocked'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'Invalid ingress data'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'maintenance'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'Waiting for gateway route endpoints'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].app_status.current = 'waiting'
- .apps['flask-k8s'].app_status.message = 'installing agent'
+ .apps['flask-k8s'].app_status.current = 'active'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running start hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running flask-app-pebble-ready hook'
- .apps['gateway-api-integrator'].app_status.message = 'invalid configuration: external_hostname'
+ .apps['gateway-api-integrator'].app_status.message = 'Certificate data missing or incomplete.'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'invalid configuration: external_hostname'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running gateway-route-relation-changed hook'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'Certificate data missing or incomplete.'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'idle'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running ingress-relation-changed hook for flask-k8s/0'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'idle'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'idle'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'executing'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running certificates-relation-changed hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running flask-app-pebble-ready hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running ingress-relation-joined hook for gateway-route-configurator/0'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'idle'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running certificates-relation-changed hook'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'executing'
- .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.message = 'running certificates-relation-changed hook'
+ .apps['self-signed-certificates'].units['self-signed-certificates/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running ingress-relation-joined hook for gateway-route-configurator/0'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running statsd-prometheus-exporter-pebble-ready hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'executing'
- .apps['flask-k8s'].units['flask-k8s/0'].juju_status.message = 'running statsd-prometheus-exporter-pebble-ready hook'
+ .apps['flask-k8s'].units['flask-k8s/0'].juju_status.current = 'idle'
- .apps['gateway-api-integrator'].app_status.current = 'blocked'
- .apps['gateway-api-integrator'].app_status.message = 'Certificate data missing or incomplete.'
+ .apps['gateway-api-integrator'].app_status.current = 'waiting'
+ .apps['gateway-api-integrator'].app_status.message = 'installing agent'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.current = 'blocked'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'Certificate data missing or incomplete.'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'executing'
- .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.message = 'running certificates-relation-changed hook'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.current = 'active'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].workload_status.message = 'Gateway addresses: 10.151.33.100'
+ .apps['gateway-api-integrator'].units['gateway-api-integrator/0'].juju_status.current = 'idle'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'idle'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running gateway-route-relation-changed hook'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-route-configurator'].app_status.current = 'maintenance'
- .apps['gateway-route-configurator'].app_status.message = 'Waiting for gateway route endpoints'
+ .apps['gateway-route-configurator'].app_status.current = 'waiting'
+ .apps['gateway-route-configurator'].app_status.message = 'installing agent'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'maintenance'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'Waiting for gateway route endpoints'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'executing'
- .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.message = 'running gateway-route-relation-changed hook'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.current = 'active'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].workload_status.message = 'Ready'
+ .apps['gateway-route-configurator'].units['gateway-route-configurator/0'].juju_status.current = 'idle'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-route-configurator'].app_status.current = 'waiting'
- .apps['gateway-route-configurator'].app_status.message = 'installing agent'
+ .apps['gateway-route-configurator'].app_status.current = 'active'
+ .apps['gateway-route-configurator'].app_status.message = 'Ready'
[32mINFO    [0m jubilant.wait:_juju.py:1459 wait: status changed:
- .apps['gateway-api-integrator'].app_status.current = 'waiting'
- .apps['gateway-api-integrator'].app_status.message = 'installing agent'
+ .apps['gateway-api-integrator'].app_status.current = 'active'
+ .apps['gateway-api-integrator'].app_status.message = 'Gateway addresses: 10.151.33.100'
[32mINFO    [0m jubilant:_juju.py:394 cli: juju status --model jubilant-fec468f4 --format json
[32mINFO    [0m jubilant:_juju.py:394 cli: juju show-unit --model jubilant-fec468f4 flask-k8s/0